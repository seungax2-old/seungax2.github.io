<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta data-brackets-id="2439" name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
        <script src="js/PLYparse.js"></script>
        <style>
            *{width: 100%; height: 100%; padding: 0; margin: 0;}
        </style>
    </head>
    <body>
        <script src="js/jquery.min.js"></script>
        <script>
            $(document).ready(function(){
                readTextFile("matteonormb.ply");
            });

            function readTextFile(file)
            {
                let rawFile = new XMLHttpRequest();
                rawFile.open("GET", file, false);
                rawFile.onreadystatechange = function ()
                {
                    if(rawFile.readyState === 4)
                    {
                        if(rawFile.status === 200 || rawFile.status == 0)
                        {
                            var allText = rawFile.responseText;
                            plyParse(allText);
                        }
                    }
                }
                rawFile.send(null);
            }

            function plyParse(Data){
                const ply = new PLY();
                const ply_parse_data = ply.parsePly(Data);
                console.log(ply_parse_data);

                const container = document.createElement('div');
                container.append(JSON.stringify(ply_parse_data));

                //document.body.appendChild(container);
            }

        </script>
    </body>
</html>
